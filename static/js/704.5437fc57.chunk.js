"use strict";(self.webpackChunke_wallet=self.webpackChunke_wallet||[]).push([[704],{6819:function(n,e,t){t.r(e),t.d(e,{default:function(){return ge}});var r,o,i,a,c,d,s,l,x,p,u,h,f,g,m,b,Z,j,y,v,w,k,P,C,S,D,E,I,z,F,N,M,O,T,L,A,X,_,$,K,U,W,Y,B,Q=t(9439),R=t(8687),q=t(9874),G=t(168),H=t(7691),J=H.ZP.button(r||(r=(0,G.Z)(["\n  display: block;\n  position: absolute;\n  top: 87%;\n  left: 91%;\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n"]))),V=t(3479),nn=t(3329),en=function(){var n=(0,R.useDispatch)();return(0,nn.jsx)(J,{onClick:function(){return n((0,q.PD)())},children:(0,nn.jsx)(V.b9W,{style:{display:"block",width:"50px",height:"50px",backgroundColor:"#24cca7",borderRadius:"50%"},color:"white"})})},tn=t(3433),rn=t(1413),on=t(6053),an=t(5716),cn=t(7614),dn=t(2791),sn=function(n){return n.transactions.finance.data},ln=function(n){return n.transactions.isLoading},xn=function(n){return n.categories.categories},pn=H.ZP.div(o||(o=(0,G.Z)(["\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n  height: 520px;\n  overflow: auto;\n"]))),un=H.ZP.table(i||(i=(0,G.Z)(["\n"]))),hn=H.ZP.tr(a||(a=(0,G.Z)(["\n  background: var(--form-background-color);\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"]))),fn=H.ZP.th(c||(c=(0,G.Z)(["\n  width: 15%;\n  text-align: left;\n  padding-left: 20px;\n  padding-top: 15px;\n  padding-bottom: 16px;\n  border-top-left-radius: 30px;\n  border-bottom-left-radius: 30px;\n"]))),gn=H.ZP.th(d||(d=(0,G.Z)(["\n  width: 10%;\n  text-align: center;\n"]))),mn=H.ZP.th(s||(s=(0,G.Z)(["\n  width: 15%;\n  text-align: left;\n"]))),bn=H.ZP.th(l||(l=(0,G.Z)(["\n  width: 30%;\n  text-align: left;\n"]))),Zn=H.ZP.th(x||(x=(0,G.Z)(["\n  width: 10%;\n  text-align: right;\n"]))),jn=H.ZP.th(p||(p=(0,G.Z)(["\n  width: 5%;\n  text-align: center;\n"]))),yn=H.ZP.th(u||(u=(0,G.Z)(["\n  width: 5%;\n  text-align: right;\n  padding-right: 30px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 30px;\n"]))),vn=H.ZP.tr(h||(h=(0,G.Z)(["\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 1.5;\n  border-bottom: 1px solid #dcdcdf;\n  :not(:last-child) {\n    box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n  }\n  :last-child {\n    border-bottom: 0;\n  }\n"]))),wn=H.ZP.td(f||(f=(0,G.Z)(["\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 14px;\n"]))),kn=H.ZP.td(g||(g=(0,G.Z)(["\n  text-align: center;\n"]))),Pn=H.ZP.td(m||(m=(0,G.Z)(["\n  text-align: left;\n"]))),Cn=H.ZP.td(b||(b=(0,G.Z)(["\n  text-align: left;\n"]))),Sn=H.ZP.td(Z||(Z=(0,G.Z)(["\n  font-weight: 700;\n  line-height: 1.5;\n  text-align: right;\n  color: ",";\n"])),(function(n){return"INCOME"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),Dn=H.ZP.td(j||(j=(0,G.Z)(["\n  text-align: right;\n"]))),En=H.ZP.td(y||(y=(0,G.Z)(["\n  text-align: left;\n"]))),In=H.ZP.button(v||(v=(0,G.Z)(["\n  font-size: 16px;\n  cursor: pointer;\n  background-color: transparent;\n  padding-right: 0;\n  border: none;\n  display: flex;\n  align-items: center;\n  margin-right: 5px;\n  padding: 0 0 0 12px;\n"]))),zn=H.ZP.button(w||(w=(0,G.Z)(["\n  min-width: 67px;\n  min-height: 26px;\n  border-radius: 18px;\n  margin-right: 12px;\n  background-color: var(--text-green-color);\n  color: var(--text-white-color);\n  border: none;\n  cursor: pointer;\n"]))),Fn=H.ZP.ul(k||(k=(0,G.Z)(["\nfont-size: 16px;\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n\n  width: 280px;\n  margin: 0 auto 8px;\n  background: var(--form-background-color);\n  border-radius: 10px;\n  border-left: 5px solid\n    ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),Nn=H.ZP.li(P||(P=(0,G.Z)(["\n  padding: 12px 20px;\n  height: 47px;\n  display: flex;\n  align-items: center;  \n  &:not(:last-child) {\n    border-bottom: 1px solid #dcdcdf;\n  }\n  justify-content: space-between;\n  line-height: calc(27 / 18);\n"]))),Mn=H.ZP.span(C||(C=(0,G.Z)(["\n  font-weight: 700;\n  font-size: 18px;\n"]))),On=H.ZP.span(S||(S=(0,G.Z)(["\n  width: 80px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-line;\n"]))),Tn=H.ZP.span(D||(D=(0,G.Z)(["\n  color: ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),Ln=function(n){var e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear().toString().slice(2);return"".concat(t,".").concat(r,".").concat(o)},An=function(n){var e=n.data,t=n.info,r=(0,an.Z)("(max-width: 767px)"),o=e.map((function(n){return(0,rn.Z)((0,rn.Z)({},n),{},{transactionDate:new Date(n.transactionDate).toISOString().substr(0,10)})})),i=(0,R.useSelector)(xn),a=(0,R.useSelector)(sn),c=(0,dn.useState)(""),d=(0,Q.Z)(c,2),s=d[0],l=d[1],x=(0,R.useDispatch)(),p=function(n){l(a.find((function(e){return e.id===n})))},u=function(n){var e=i.find((function(e){return e.id===n}));if(e)return e.name};return(0,dn.useEffect)((function(){console.log("trans",s),s&&t(s),x((0,q.mQ)())}),[x,t,s]),(0,nn.jsx)(nn.Fragment,{children:r?(0,nn.jsx)(nn.Fragment,{children:o.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,o=n.categoryId,i=n.comment,a=n.amount;return(0,nn.jsxs)(Fn,{type:r.toLowerCase(),children:[(0,nn.jsxs)(Nn,{children:[(0,nn.jsx)(Mn,{children:"Date"}),Ln(t)]}),(0,nn.jsxs)(Nn,{children:[(0,nn.jsx)(Mn,{children:"Type"}),"income"===r.toLowerCase()?"+":"-"]}),(0,nn.jsxs)(Nn,{children:[(0,nn.jsx)(Mn,{children:"Category"}),u(o)]}),(0,nn.jsxs)(Nn,{children:[(0,nn.jsx)(Mn,{children:"Comment"}),(0,nn.jsx)(On,{children:i})]}),(0,nn.jsxs)(Nn,{style:{fontWeight:"700"},children:[(0,nn.jsx)(Mn,{children:"Sum"}),(0,nn.jsx)(Tn,{type:r.toLowerCase(),children:a.toFixed(2)})]}),(0,nn.jsxs)(Nn,{children:[(0,nn.jsx)(zn,{onClick:function(){return x((0,cn.Ks)(e))},children:"Delete"}),(0,nn.jsxs)(In,{onClick:function(){return p(e)},children:[(0,nn.jsx)(on.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}}),"Edit"]})]})]},e)}))}):(0,nn.jsx)(pn,{children:(0,nn.jsxs)(un,{children:[(0,nn.jsx)("thead",{children:(0,nn.jsxs)(hn,{children:[(0,nn.jsx)(fn,{children:"Date"}),(0,nn.jsx)(gn,{children:"Type"}),(0,nn.jsx)(mn,{children:"Cotegory"}),(0,nn.jsx)(bn,{children:"Comment"}),(0,nn.jsx)(Zn,{children:"Currency"}),(0,nn.jsx)(jn,{}),(0,nn.jsx)(yn,{})]})}),(0,nn.jsx)("tbody",{children:o.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,o=n.categoryId,i=n.comment,a=n.amount;return(0,nn.jsxs)(vn,{children:[(0,nn.jsx)(wn,{children:Ln(t)}),(0,nn.jsx)(kn,{children:"income"===r.toLowerCase()?"+":"-"}),(0,nn.jsx)(Pn,{children:u(o)}),(0,nn.jsx)(Cn,{children:i}),(0,nn.jsx)(Sn,{type:r,children:a.toFixed(2)}),(0,nn.jsx)(Dn,{children:(0,nn.jsx)(In,{onClick:function(){return p(e)},children:(0,nn.jsx)(on.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}})})}),(0,nn.jsx)(En,{children:(0,nn.jsx)(zn,{onClick:function(){return x((0,cn.Ks)(e))},children:"Delete"})})]},e)}))})]})})})},Xn=t(5243),_n=H.ZP.div(E||(E=(0,G.Z)(["\n  padding: 46px 0 0 69px;\n  width: 784px;\n"]))),$n=function(n){var e=(0,R.useSelector)(sn),t=(0,R.useSelector)(ln),r=(0,R.useDispatch)(),o=e.map((function(n){return(0,rn.Z)((0,rn.Z)({},n),{},{transactionDate:Date.parse(n.transactionDate)})})),i=(0,tn.Z)(o).sort((function(n,e){return n.transactionDate-e.transactionDate}));return(0,dn.useEffect)((function(){r((0,cn.mI)())}),[r]),(0,nn.jsx)(_n,{children:0===e.length?(0,nn.jsx)("p",{children:" You don't have transactions yet. "}):(0,nn.jsx)("div",{children:t?(0,nn.jsx)(Xn._P,{}):(0,nn.jsx)(nn.Fragment,{children:(0,nn.jsx)(An,{data:i,info:n.info})})})})},Kn=function(n){return n.global.isModalAddTransactionOpen},Un=function(n){return n.global.isModalUpDateTransaction},Wn=H.ZP.div(I||(I=(0,G.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.25);\n  z-index: 1200;\n"]))),Yn=H.ZP.div(z||(z=(0,G.Z)(["\n  max-width: 540px;\n  width: 100%;\n  height: 580px;\n  padding: 40px 73px 64px 40px;\n  background-color: #ffffff;\n  border-radius: 20px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  /* gap: 40px; */\n  position: relative;\n  z-index: 1200;\n"]))),Bn=H.ZP.p(F||(F=(0,G.Z)(["\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 30px;\n  line-height: 45px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  margin-bottom: 42px;\n  color: #000000;\n"]))),Qn=H.ZP.label(N||(N=(0,G.Z)(["\n  &::before {\n    content: '';\n\n    width: 80px;\n    height: 40px;\n    background-color: #ffffff;\n    border: 1px solid #e0e0e0;\n    border-radius: 30px;\n    transition: box-shadow 250ms linear;\n\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    padding-bottom: 8px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 195px;\n    top: 139px;\n    width: 44px;\n    height: 44px;\n    background-color: #24cca7;\n    border-radius: 50px;\n    box-shadow: 0px 6px 15px rgba(36, 204, 167, 0.5);\n    transition: transform 250ms linear, background-color 250ms linear,\n      box-shadow 250ms linear;\n\n    text-align: center;\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 2.8;\n    padding-top: 8px;\n\n    transform: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.checked&&"translate(42px)"}),(function(n){return n.checked?"#FF6596":"#24CCA7"})),Rn=H.ZP.input(M||(M=(0,G.Z)(["\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n"]))),qn=H.ZP.span(O||(O=(0,G.Z)(["\ncolor: ",";\n"])),(function(n){return n.checked?"#E0E0E0":"#24CCA7"})),Gn=H.ZP.span(T||(T=(0,G.Z)(["\ncolor: ",";\n"])),(function(n){return n.checked?"#FF6596":"#E0E0E0"})),Hn=H.ZP.form(L||(L=(0,G.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),Jn=H.ZP.div(A||(A=(0,G.Z)(["\n  display: flex;\n  gap: 32px;\n  align-items: center;\n  justify-content: center;\n  /* margin-right: 32px; */\n  margin-bottom: 44px;\n"]))),Vn=H.ZP.select(X||(X=(0,G.Z)(["\n  width: 394px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  margin-bottom: 40px;\n"]))),ne=H.ZP.input(_||(_=(0,G.Z)(["\n  width: 190px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n  text-align: center;\n \n"]))),ee=H.ZP.input($||($=(0,G.Z)(["\n  width: 394px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n  margin-bottom: 40px;\n"]))),te=H.ZP.div(K||(K=(0,G.Z)(["\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),re=H.ZP.button(U||(U=(0,G.Z)(["\n  width: 300px;\n  padding: 13px 65px 13px 71px;\n  border: none;\n  background-color: #24cca7;\n  border-radius: 20px;\n  color: #ffffff;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  text-align: center;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n"]))),oe=H.ZP.button(W||(W=(0,G.Z)(["\n  width: 300px;\n  padding: 13px 65px 13px 71px;\n  border: none;\n  background-color: #ffffff;\n  border: 1px solid #4a56e2;\n  border-radius: 20px;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  text-align: center;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  color: #4a56e2;\n"]))),ie=H.ZP.button(Y||(Y=(0,G.Z)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 32px;\n  height: 32px;\n  border: none;\n  background-color: #fff;\n  outline: blue;\n  padding: 0;\n  cursor: pointer;\n\n  &:hover {\n    /* background-color: red; */\n  }\n"]))),ae=t(1799),ce=t.n(ae),de=(t(1778),t(2426)),se=t.n(de),le=t(71),xe=t(9983),pe=t(4994),ue=function(){var n=(0,R.useDispatch)(),e=(0,R.useSelector)(xn),t=new Date(Date.now()),r=(0,dn.useState)(t),o=(0,Q.Z)(r,2),i=o[0],a=o[1],c=(0,dn.useState)(""),d=(0,Q.Z)(c,2)[1],s=(0,dn.useState)(""),l=(0,Q.Z)(s,2),x=l[0],p=l[1],u=(0,dn.useState)(""),h=(0,Q.Z)(u,2),f=h[0],g=h[1],m=(0,dn.useState)(""),b=(0,Q.Z)(m,2),Z=b[0],j=b[1],y=(0,dn.useState)(!1),v=(0,Q.Z)(y,2),w=v[0],k=v[1];(0,dn.useEffect)((function(){n((0,pe.p)())}),[n]);var P=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?p(t):"amount"===r?j(t):"comment"===r&&g(t)},C=function(){a(""),d(""),p(""),g(""),j("")},S=function(e){"Escape"!==e.code&&e.currentTarget!==e.target&&"svg"!==e.target.nodeName||n((0,q.ZB)())};window.addEventListener("keydown",S);var D=e.filter((function(n){return"Income"!==n.name}));return(0,nn.jsx)(Wn,{onClick:S,children:(0,nn.jsxs)(Yn,{children:[(0,nn.jsx)(ie,{type:"button",onClick:S,children:(0,nn.jsx)(xe.Pd.Provider,{value:{size:"3em"},children:(0,nn.jsxs)("h3",{children:[" ",(0,nn.jsx)(le.IOM,{})," "]})})}),(0,nn.jsxs)(Hn,{onSubmit:function(t){t.preventDefault();var r=new Date(i.toString().replace(/(\d+).(\d+).(\d+)/,"$3/$2/$1")),o=e.find((function(n){return n.name===x})),a={transactionDate:r,type:w?"EXPENSE":"INCOME",categoryId:w?o&&o.id||e[0].id:e[10].id,comment:f,amount:w?-Number(Z):Number(Z)};console.log(a),n((0,cn.dT)(a)),C()},children:[(0,nn.jsx)(Bn,{children:" Add transaction"}),(0,nn.jsx)(Rn,{onChange:function(n){k(n.target.checked)},checked:w,type:"checkbox",name:"topic",id:"topic-1"}),(0,nn.jsxs)(Jn,{children:[(0,nn.jsx)(qn,{checked:w,children:"Income"}),(0,nn.jsx)(Qn,{htmlFor:"topic-1",checked:w}),(0,nn.jsx)(Gn,{checked:w,children:"Expense"})]}),w&&(0,nn.jsx)(Vn,{name:"categoryId",onChange:P,value:x,children:e&&D.map((function(n){var e=n.id,t=n.name;return(0,nn.jsx)("option",{id:e,children:t},e)}))}),(0,nn.jsxs)(Jn,{children:[(0,nn.jsx)(ne,{value:Z,onChange:P,type:"text",name:"amount",placeholder:"0.00"}),(0,nn.jsx)(ce(),{timeFormat:!1,name:i,value:i,onChange:function(n){a(se()(n).toISOString())},renderInput:function(n){return(0,nn.jsx)(ne,(0,rn.Z)({},n))}})]}),(0,nn.jsx)(ee,{value:f,onChange:P,name:"comment",placeholder:"Comment"}),(0,nn.jsxs)(te,{children:[(0,nn.jsx)(re,{type:"submit",children:"Add"}),(0,nn.jsx)(oe,{type:"button",onClick:S,children:"Cancel"})]})]})]})})},he=function(n){var e=n.trans,t=n.close,r=(0,dn.useState)(e.categoryId),o=(0,Q.Z)(r,2),i=o[0],a=o[1],c=(0,dn.useState)(e.amount),d=(0,Q.Z)(c,2),s=d[0],l=d[1],x=(0,dn.useState)(e.transactionDate),p=(0,Q.Z)(x,2),u=p[0],h=p[1],f=(0,dn.useState)(e.comment),g=(0,Q.Z)(f,2),m=g[0],b=g[1],Z=(0,dn.useState)(e.type),j=(0,Q.Z)(Z,2)[1],y=(0,dn.useState)("INCOME"!==e.type),v=(0,Q.Z)(y,2),w=v[0],k=v[1],P=(0,R.useDispatch)(),C=(0,R.useSelector)(xn),S=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?a(t):"amount"===r?l(t):"comment"===r&&b(t)},D=function(n){"Escape"!==n.code&&n.currentTarget!==n.target&&"svg"!==n.target.nodeName||(P((0,q.o_)()),t(""))};window.addEventListener("keydown",D);var E=C.filter((function(n){return"Income"!==n.name}));return(0,nn.jsx)(nn.Fragment,{children:(0,nn.jsx)(Wn,{onClick:D,children:(0,nn.jsxs)(Yn,{children:[(0,nn.jsx)(ie,{type:"button",onClick:D,children:(0,nn.jsx)(xe.Pd.Provider,{value:{size:"3em"},children:(0,nn.jsxs)("h3",{children:[" ",(0,nn.jsx)(le.IOM,{})," "]})})}),(0,nn.jsxs)(Hn,{onSubmit:function(n){var t=C.find((function(n){return n.name===i}));n.preventDefault();var r={transactionDate:u,type:w?"EXPENSE":"INCOME",categoryId:w?t&&t.id||C[0].id:C[10].id,comment:m,amount:w?-Number(s):Number(s)};P((0,cn.bT)({transactionId:e.id,dataInfo:r})),h(""),j(""),a(""),b(""),l("")},children:[(0,nn.jsx)(Bn,{children:" Update transaction"}),(0,nn.jsx)(Rn,{onChange:function(n){k(n.target.checked)},checked:w,type:"checkbox",name:"topic",id:"topic-1"}),(0,nn.jsxs)(Jn,{children:[(0,nn.jsx)(qn,{checked:w,children:"Income"}),(0,nn.jsx)(Qn,{htmlFor:"topic-1",checked:w}),(0,nn.jsx)(Gn,{checked:w,children:"Expense"})]}),w&&(0,nn.jsx)(Vn,{name:"categoryId",onChange:S,value:i,children:C&&E.map((function(n){var e=n.id,t=n.name;return(0,nn.jsx)("option",{id:e,children:t},e)}))}),(0,nn.jsxs)(Jn,{children:[(0,nn.jsx)(ne,{value:s,onChange:S,type:"text",name:"amount",placeholder:"0.00"}),(0,nn.jsx)(ne,{value:u,onChange:S,type:"text",name:"amount",disabled:!0})]}),(0,nn.jsx)(ee,{value:m,onChange:S,name:"comment",placeholder:"Comment"}),(0,nn.jsxs)(te,{children:[(0,nn.jsx)(re,{type:"submit",children:"upDate"}),(0,nn.jsx)(oe,{type:"button",onClick:D,children:"Cancel"})]})]})]})})})},fe=H.ZP.div(B||(B=(0,G.Z)(["\nposition: relative;\n"]))),ge=function(){var n=(0,R.useSelector)(Kn),e=(0,R.useSelector)(Un),t=(0,R.useDispatch)(),r=(0,dn.useState)(null),o=(0,Q.Z)(r,2),i=o[0],a=o[1];return(0,dn.useEffect)((function(){t((0,pe.p)())}),[t]),(0,nn.jsxs)(fe,{children:[(0,nn.jsx)($n,{info:a}),(0,nn.jsx)(en,{}),e&&i&&(0,nn.jsx)(he,{trans:i,close:a}),n&&(0,nn.jsx)(ue,{})]})}}}]);
//# sourceMappingURL=704.5437fc57.chunk.js.map