"use strict";(self.webpackChunke_wallet=self.webpackChunke_wallet||[]).push([[907],{9847:function(n,e,t){t.r(e),t.d(e,{default:function(){return fn}});var r,o,i,a,c,s,d,l,u,x,p,h,f,m,g,j,b,Z,y=t(9439),v=t(8687),k=t(9874),C=t(168),w=t(7691),S=w.ZP.button(r||(r=(0,C.Z)(["\n  display: block;\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 85%;\n  left: 100%;\n"]))),D=t(3329),P=function(){var n=(0,v.useDispatch)();return(0,D.jsx)(S,{onClick:function(){return n((0,k.PD)())},children:"Add"})},E=t(3433),I=t(1413),N=t(6053),F=t(7614),z=t(2791),O=function(n){return n.transactions.finance.data},M=function(n){return n.transactions.isLoading},T=function(n){return n.categories.categories},A=function(n){var e=n.data,t=n.info,r=e.map((function(n){return(0,I.Z)((0,I.Z)({},n),{},{transactionDate:new Date(n.transactionDate).toISOString().substr(0,10)})})),o=(0,v.useSelector)(T),i=(0,v.useSelector)(O),a=(0,z.useState)(""),c=(0,y.Z)(a,2),s=c[0],d=c[1],l=(0,v.useDispatch)(),u=function(n){var e=o.find((function(e){return e.id===n}));if(e)return e.name};return(0,z.useEffect)((function(){console.log("trans",s),s&&t(s),l((0,k.mQ)())}),[l,t,s]),(0,D.jsxs)("table",{children:[(0,D.jsx)("thead",{children:(0,D.jsxs)("tr",{children:[(0,D.jsx)("th",{children:"Day"}),(0,D.jsx)("th",{children:"Type"}),(0,D.jsx)("th",{children:"Cotegory"}),(0,D.jsx)("th",{children:"Comment"}),(0,D.jsx)("th",{children:"Currency"})]})}),(0,D.jsx)("tbody",{children:r.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,o=n.categoryId,a=n.comment,c=n.amount;return(0,D.jsxs)("tr",{children:[(0,D.jsx)("td",{children:t}),(0,D.jsx)("td",{children:r.toLowerCase()}),(0,D.jsx)("td",{children:u(o)}),(0,D.jsx)("td",{children:a}),(0,D.jsx)("td",{children:c}),(0,D.jsxs)("td",{children:[" ",(0,D.jsx)("button",{onClick:function(){return function(n){d(i.find((function(e){return e.id===n})))}(e)},children:(0,D.jsx)(N.xnX,{})})]}),(0,D.jsx)("td",{children:(0,D.jsx)("button",{onClick:function(){return l((0,F.Ks)(e))},children:"Delete"})})]},e)}))})]})},L=t(5243),_=function(n){var e=(0,v.useSelector)(O),t=(0,v.useSelector)(M),r=(0,v.useDispatch)(),o=e.map((function(n){return(0,I.Z)((0,I.Z)({},n),{},{transactionDate:Date.parse(n.transactionDate)})})),i=(0,E.Z)(o).sort((function(n,e){return n.transactionDate-e.transactionDate}));return(0,z.useEffect)((function(){r((0,F.mI)())}),[r]),(0,D.jsx)(D.Fragment,{children:0===e.length?(0,D.jsx)("p",{children:" You don't have transactions yet. "}):(0,D.jsx)("div",{children:t?(0,D.jsx)(L._P,{}):(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(A,{data:i,info:n.info})})})})},X=function(n){return n.global.isModalAddTransactionOpen},$=function(n){return n.global.isModalUpDateTransaction},U=w.ZP.div(o||(o=(0,C.Z)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.25);\n  z-index: 1200;\n"]))),B=w.ZP.div(i||(i=(0,C.Z)(["\n  max-width: 540px;\n  width: 100%;\n  height: 580px;\n  padding: 40px 73px 64px 40px;\n  background-color: #ffffff;\n  border-radius: 20px;\n\n  display: flex;\n  flex-direction: column;\n  align-items: flex-start;\n  /* gap: 40px; */\n  position: relative;\n  z-index: 1200;\n"]))),K=w.ZP.p(a||(a=(0,C.Z)(["\n  font-family: 'Poppins';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 30px;\n  line-height: 45px;\n  display: flex;\n  align-items: center;\n  text-align: center;\n  margin-bottom: 42px;\n  color: #000000;\n"]))),Q=w.ZP.label(c||(c=(0,C.Z)(["\n  &::before {\n    content: '';\n\n    width: 80px;\n    height: 40px;\n    background-color: #ffffff;\n    border: 1px solid #e0e0e0;\n    border-radius: 30px;\n    transition: box-shadow 250ms linear;\n\n    display: flex;\n    justify-content: center;\n    align-items: flex-end;\n    padding-bottom: 8px;\n  }\n\n  &::after {\n    content: '';\n    position: absolute;\n    left: 195px;\n    top: 139px;\n    width: 44px;\n    height: 44px;\n    background-color: #24cca7;\n    border-radius: 50px;\n    box-shadow: 0px 6px 15px rgba(36, 204, 167, 0.5);\n    transition: transform 250ms linear, background-color 250ms linear,\n      box-shadow 250ms linear;\n\n    text-align: center;\n    font-size: 10px;\n    font-weight: 500;\n    line-height: 2.8;\n    padding-top: 8px;\n\n    transform: ",";\n    background-color: ",";\n  }\n"])),(function(n){return n.checked&&"translate(42px)"}),(function(n){return n.checked?"#FF6596":"#24CCA7"})),Y=w.ZP.input(s||(s=(0,C.Z)(["\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n"]))),q=w.ZP.span(d||(d=(0,C.Z)(["\ncolor: ",";\n"])),(function(n){return n.checked?"#E0E0E0":"#24CCA7"})),G=w.ZP.span(l||(l=(0,C.Z)(["\ncolor: ",";\n"])),(function(n){return n.checked?"#FF6596":"#E0E0E0"})),H=w.ZP.form(u||(u=(0,C.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),J=w.ZP.div(x||(x=(0,C.Z)(["\n  display: flex;\n  gap: 32px;\n  align-items: center;\n  justify-content: center;\n  /* margin-right: 32px; */\n  margin-bottom: 44px;\n"]))),R=w.ZP.select(p||(p=(0,C.Z)(["\n  width: 394px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  margin-bottom: 40px;\n"]))),V=w.ZP.input(h||(h=(0,C.Z)(["\n  width: 190px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n  text-align: center;\n \n"]))),W=w.ZP.input(f||(f=(0,C.Z)(["\n  width: 394px;\n  border: none;\n  border-bottom: 1px solid #e0e0e0;\n  margin-bottom: 40px;\n"]))),nn=w.ZP.div(m||(m=(0,C.Z)(["\n  display: flex;\n  gap: 20px;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n"]))),en=w.ZP.button(g||(g=(0,C.Z)(["\n  width: 300px;\n  padding: 13px 65px 13px 71px;\n  border: none;\n  background-color: #24cca7;\n  border-radius: 20px;\n  color: #ffffff;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  text-align: center;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n"]))),tn=w.ZP.button(j||(j=(0,C.Z)(["\n  width: 300px;\n  padding: 13px 65px 13px 71px;\n  border: none;\n  background-color: #ffffff;\n  border: 1px solid #4a56e2;\n  border-radius: 20px;\n\n  font-family: 'Circe';\n  font-style: normal;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  text-align: center;\n  letter-spacing: 0.1em;\n  text-transform: uppercase;\n  color: #4a56e2;\n"]))),rn=w.ZP.button(b||(b=(0,C.Z)(["\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 32px;\n  height: 32px;\n  border: none;\n  background-color: #fff;\n  outline: blue;\n  padding: 0;\n  cursor: pointer;\n\n  &:hover {\n    /* background-color: red; */\n  }\n"]))),on=t(1799),an=t.n(on),cn=(t(1778),t(2426)),sn=t.n(cn),dn=t(71),ln=t(9983),un=t(4994),xn=function(){var n=(0,v.useDispatch)(),e=(0,v.useSelector)(T),t=new Date(Date.now()),r=(0,z.useState)(t),o=(0,y.Z)(r,2),i=o[0],a=o[1],c=(0,z.useState)(""),s=(0,y.Z)(c,2)[1],d=(0,z.useState)(""),l=(0,y.Z)(d,2),u=l[0],x=l[1],p=(0,z.useState)(""),h=(0,y.Z)(p,2),f=h[0],m=h[1],g=(0,z.useState)(""),j=(0,y.Z)(g,2),b=j[0],Z=j[1],C=(0,z.useState)(!1),w=(0,y.Z)(C,2),S=w[0],P=w[1];(0,z.useEffect)((function(){n((0,un.p)())}),[n]);var E=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?x(t):"amount"===r?Z(t):"comment"===r&&m(t)},N=function(){a(""),s(""),x(""),m(""),Z("")},O=function(e){"Escape"!==e.code&&e.currentTarget!==e.target&&"svg"!==e.target.nodeName||n((0,k.ZB)())};window.addEventListener("keydown",O);var M=e.filter((function(n){return"Income"!==n.name}));return(0,D.jsx)(U,{onClick:O,children:(0,D.jsxs)(B,{children:[(0,D.jsx)(rn,{type:"button",onClick:O,children:(0,D.jsx)(ln.Pd.Provider,{value:{size:"3em"},children:(0,D.jsxs)("h3",{children:[" ",(0,D.jsx)(dn.IOM,{})," "]})})}),(0,D.jsxs)(H,{onSubmit:function(t){t.preventDefault();var r=new Date(i.toString().replace(/(\d+).(\d+).(\d+)/,"$3/$2/$1")),o=e.find((function(n){return n.name===u})),a={transactionDate:r,type:S?"EXPENSE":"INCOME",categoryId:S?o&&o.id||e[0].id:e[10].id,comment:f,amount:S?-Number(b):Number(b)};console.log(a),n((0,F.dT)(a)),N()},children:[(0,D.jsx)(K,{children:" Add transaction"}),(0,D.jsx)(Y,{onChange:function(n){P(n.target.checked)},checked:S,type:"checkbox",name:"topic",id:"topic-1"}),(0,D.jsxs)(J,{children:[(0,D.jsx)(q,{checked:S,children:"Income"}),(0,D.jsx)(Q,{htmlFor:"topic-1",checked:S}),(0,D.jsx)(G,{checked:S,children:"Expense"})]}),S&&(0,D.jsx)(R,{name:"categoryId",onChange:E,value:u,children:e&&M.map((function(n){var e=n.id,t=n.name;return(0,D.jsx)("option",{id:e,children:t},e)}))}),(0,D.jsxs)(J,{children:[(0,D.jsx)(V,{value:b,onChange:E,type:"text",name:"amount",placeholder:"0.00"}),(0,D.jsx)(an(),{timeFormat:!1,name:i,value:i,onChange:function(n){a(sn()(n).toISOString())},renderInput:function(n){return(0,D.jsx)(V,(0,I.Z)({},n))}})]}),(0,D.jsx)(W,{value:f,onChange:E,name:"comment",placeholder:"Comment"}),(0,D.jsxs)(nn,{children:[(0,D.jsx)(en,{type:"submit",children:"Add"}),(0,D.jsx)(tn,{type:"button",onClick:O,children:"Cancel"})]})]})]})})},pn=function(n){var e=n.trans,t=n.close,r=(0,z.useState)(e.categoryId),o=(0,y.Z)(r,2),i=o[0],a=o[1],c=(0,z.useState)(e.amount),s=(0,y.Z)(c,2),d=s[0],l=s[1],u=(0,z.useState)(e.transactionDate),x=(0,y.Z)(u,2),p=x[0],h=x[1],f=(0,z.useState)(e.comment),m=(0,y.Z)(f,2),g=m[0],j=m[1],b=(0,z.useState)(e.type),Z=(0,y.Z)(b,2)[1],C=(0,z.useState)("INCOME"!==e.type),w=(0,y.Z)(C,2),S=w[0],P=w[1],E=(0,v.useDispatch)(),I=(0,v.useSelector)(T),N=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?a(t):"amount"===r?l(t):"comment"===r&&j(t)},O=function(n){"Escape"!==n.code&&n.currentTarget!==n.target&&"svg"!==n.target.nodeName||(E((0,k.o_)()),t(""))};window.addEventListener("keydown",O);var M=I.filter((function(n){return"Income"!==n.name}));return(0,D.jsx)(D.Fragment,{children:(0,D.jsx)(U,{onClick:O,children:(0,D.jsxs)(B,{children:[(0,D.jsx)(rn,{type:"button",onClick:O,children:(0,D.jsx)(ln.Pd.Provider,{value:{size:"3em"},children:(0,D.jsxs)("h3",{children:[" ",(0,D.jsx)(dn.IOM,{})," "]})})}),(0,D.jsxs)(H,{onSubmit:function(n){var t=I.find((function(n){return n.name===i}));n.preventDefault();var r={transactionDate:p,type:S?"EXPENSE":"INCOME",categoryId:S?t&&t.id||I[0].id:I[10].id,comment:g,amount:S?-Number(d):Number(d)};E((0,F.bT)({transactionId:e.id,dataInfo:r})),h(""),Z(""),a(""),j(""),l("")},children:[(0,D.jsx)(K,{children:" Update transaction"}),(0,D.jsx)(Y,{onChange:function(n){P(n.target.checked)},checked:S,type:"checkbox",name:"topic",id:"topic-1"}),(0,D.jsxs)(J,{children:[(0,D.jsx)(q,{checked:S,children:"Income"}),(0,D.jsx)(Q,{htmlFor:"topic-1",checked:S}),(0,D.jsx)(G,{checked:S,children:"Expense"})]}),S&&(0,D.jsx)(R,{name:"categoryId",onChange:N,value:i,children:I&&M.map((function(n){var e=n.id,t=n.name;return(0,D.jsx)("option",{id:e,children:t},e)}))}),(0,D.jsxs)(J,{children:[(0,D.jsx)(V,{value:d,onChange:N,type:"text",name:"amount",placeholder:"0.00"}),(0,D.jsx)(V,{value:p,onChange:N,type:"text",name:"amount",disabled:!0})]}),(0,D.jsx)(W,{value:g,onChange:N,name:"comment",placeholder:"Comment"}),(0,D.jsxs)(nn,{children:[(0,D.jsx)(en,{type:"submit",children:"upDate"}),(0,D.jsx)(tn,{type:"button",onClick:O,children:"Cancel"})]})]})]})})})},hn=w.ZP.div(Z||(Z=(0,C.Z)(["\nposition: relative;\n"]))),fn=function(){var n=(0,v.useSelector)(X),e=(0,v.useSelector)($),t=(0,v.useDispatch)(),r=(0,z.useState)(null),o=(0,y.Z)(r,2),i=o[0],a=o[1];return(0,z.useEffect)((function(){t((0,un.p)())}),[t]),(0,D.jsxs)(hn,{children:[(0,D.jsx)(_,{info:a}),(0,D.jsx)(P,{}),e&&i&&(0,D.jsx)(pn,{trans:i,close:a}),n&&(0,D.jsx)(xn,{})]})}}}]);
//# sourceMappingURL=907.6a56a354.chunk.js.map