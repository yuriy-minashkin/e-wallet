"use strict";(self.webpackChunke_wallet=self.webpackChunke_wallet||[]).push([[691],{5925:function(n,e,t){t.r(e),t.d(e,{default:function(){return Vn}});var r,i,o,c,a,s,d,l,u,h,x,p,m,g,f,j,Z,v,b,y,w,k,C,P,S,I,D,E,N=t(9439),F=t(8687),O=t(9874),M=t(168),z=t(7939),L=z.ZP.button(r||(r=(0,M.Z)(["\n  display: block;\n  position: fixed;\n  /* position: absolute; */\n  bottom: 20px;\n  right: 20px;\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n  @media screen and (min-width: 768px) {\n    bottom: 40px;\n    right: 40px;\n  }\n  @media screen and (min-width: 1280px) {\n    bottom: 62px;\n    right: 52px;\n  }\n"]))),A=t(3479),T=t(3329),V=function(){var n=(0,F.useDispatch)();return(0,T.jsx)(L,{onClick:function(){return n((0,O.PD)())},children:(0,T.jsx)(A.b9W,{style:{display:"block",width:"50px",height:"50px",backgroundColor:"#24cca7",borderRadius:"50%"},color:"white"})})},Y=t(3433),_=t(1413),X=t(6053),R=t(5716),$=t(2791),W=t(1941),U=t(2816),G=z.ZP.div(i||(i=(0,M.Z)(["\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n  height: 520px;\n  overflow: auto;\n"]))),q=z.ZP.table(o||(o=(0,M.Z)([""]))),B=z.ZP.tr(c||(c=(0,M.Z)(["\n  background: var(--form-background-color);\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"]))),H=z.ZP.th(a||(a=(0,M.Z)(["\n  width: 15%;\n  text-align: left;\n  padding-left: 20px;\n  padding-top: 15px;\n  padding-bottom: 16px;\n  border-top-left-radius: 30px;\n  border-bottom-left-radius: 30px;\n"]))),K=z.ZP.th(s||(s=(0,M.Z)(["\n  width: 10%;\n  text-align: center;\n"]))),Q=z.ZP.th(d||(d=(0,M.Z)(["\n  width: 15%;\n  text-align: left;\n"]))),J=z.ZP.th(l||(l=(0,M.Z)(["\n  width: 30%;\n  text-align: left;\n"]))),nn=z.ZP.th(u||(u=(0,M.Z)(["\n  width: 10%;\n  text-align: right;\n"]))),en=z.ZP.th(h||(h=(0,M.Z)(["\n  width: 5%;\n  text-align: center;\n"]))),tn=z.ZP.th(x||(x=(0,M.Z)(["\n  width: 5%;\n  text-align: right;\n  padding-right: 30px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 30px;\n"]))),rn=z.ZP.tr(p||(p=(0,M.Z)(["\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 1.5;\n  border-bottom: 1px solid #dcdcdf;\n  :not(:last-child) {\n    box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n  }\n  :last-child {\n    border-bottom: 0;\n  }\n"]))),on=z.ZP.td(m||(m=(0,M.Z)(["\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 14px;\n"]))),cn=z.ZP.td(g||(g=(0,M.Z)(["\n  text-align: center;\n"]))),an=z.ZP.td(f||(f=(0,M.Z)(["\n  text-align: left;\n"]))),sn=z.ZP.td(j||(j=(0,M.Z)(["\n  text-align: left;\n"]))),dn=z.ZP.td(Z||(Z=(0,M.Z)(["\n  font-weight: 700;\n  line-height: 1.5;\n  text-align: right;\n  color: ",";\n"])),(function(n){return"INCOME"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),ln=z.ZP.td(v||(v=(0,M.Z)(["\n  text-align: right;\n"]))),un=z.ZP.td(b||(b=(0,M.Z)(["\n  text-align: left;\n"]))),hn=z.ZP.button(y||(y=(0,M.Z)(["\n  font-size: 16px;\n  cursor: pointer;\n  background-color: transparent;\n  padding-right: 0;\n  border: none;\n  display: flex;\n  align-items: center;\n  margin-right: 5px;\n  padding: 0 0 0 12px;\n"]))),xn=z.ZP.button(w||(w=(0,M.Z)(["\n  min-width: 67px;\n  min-height: 26px;\n  border-radius: 18px;\n  margin-right: 12px;\n  background-color: var(--text-green-color);\n  color: var(--text-white-color);\n  border: none;\n  cursor: pointer;\n"]))),pn=z.ZP.ul(k||(k=(0,M.Z)(["\n  font-size: 16px;\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n\n  width: 100%;\n  margin: 0 auto 8px;\n  background: var(--form-background-color);\n  border-radius: 10px;\n  border-left: 5px solid\n    ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),mn=z.ZP.li(C||(C=(0,M.Z)(["\n  padding: 12px 20px;\n  height: 47px;\n  display: flex;\n  align-items: center;\n  &:not(:last-child) {\n    border-bottom: 1px solid #dcdcdf;\n  }\n  justify-content: space-between;\n  line-height: calc(27 / 18);\n"]))),gn=z.ZP.span(P||(P=(0,M.Z)(["\n  font-weight: 700;\n  font-size: 18px;\n"]))),fn=z.ZP.span(S||(S=(0,M.Z)(["\n  width: 80px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-line;\n"]))),jn=z.ZP.span(I||(I=(0,M.Z)(["\n  color: ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),Zn=function(n){var e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(2);return"".concat(t,".").concat(r,".").concat(i)},vn=function(n){var e=n.data,t=n.info,r=(0,R.Z)("(min-width: 768px)"),i=e.map((function(n){return(0,_.Z)((0,_.Z)({},n),{},{transactionDate:Date(n.transactionDate)})}));console.log(i);var o=(0,F.useSelector)(U.us),c=(0,F.useSelector)(W.$n),a=(0,$.useState)(""),s=(0,N.Z)(a,2),d=s[0],l=s[1],u=(0,F.useDispatch)(),h=function(n){l(c.find((function(e){return e.id===n}))),u((0,O.mQ)())},x=function(n){l(c.find((function(e){return e.id===n}))),u((0,O.eF)())},p=function(n){var e=o.find((function(e){return e.id===n}));if(e)return e.name};return(0,$.useEffect)((function(){d&&t(d)}),[u,t,d]),(0,T.jsx)(T.Fragment,{children:r?(0,T.jsx)(G,{children:(0,T.jsxs)(q,{children:[(0,T.jsx)("thead",{children:(0,T.jsxs)(B,{children:[(0,T.jsx)(H,{children:"Date"}),(0,T.jsx)(K,{children:"Type"}),(0,T.jsx)(Q,{children:"Cotegory"}),(0,T.jsx)(J,{children:"Comment"}),(0,T.jsx)(nn,{children:"Currency"}),(0,T.jsx)(en,{}),(0,T.jsx)(tn,{})]})}),(0,T.jsx)("tbody",{children:i.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,i=n.categoryId,o=n.comment,c=n.amount;return(0,T.jsxs)(rn,{children:[(0,T.jsx)(on,{children:Zn(t)}),(0,T.jsx)(cn,{children:"income"===r.toLowerCase()?"+":"-"}),(0,T.jsx)(an,{children:p(i)}),(0,T.jsx)(sn,{children:o}),(0,T.jsx)(dn,{type:r,children:c.toFixed(2)}),(0,T.jsx)(ln,{children:(0,T.jsx)(hn,{onClick:function(){return h(e)},children:(0,T.jsx)(X.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}})})}),(0,T.jsx)(un,{children:(0,T.jsx)(xn,{onClick:function(){return x(e)},children:"Delete"})})]},e)}))})]})}):(0,T.jsx)(T.Fragment,{children:i.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,i=n.categoryId,o=n.comment,c=n.amount;return(0,T.jsxs)(pn,{type:r.toLowerCase(),children:[(0,T.jsxs)(mn,{children:[(0,T.jsx)(gn,{children:"Date"}),Zn(t)]}),(0,T.jsxs)(mn,{children:[(0,T.jsx)(gn,{children:"Type"}),"income"===r.toLowerCase()?"+":"-"]}),(0,T.jsxs)(mn,{children:[(0,T.jsx)(gn,{children:"Category"}),p(i)]}),(0,T.jsxs)(mn,{children:[(0,T.jsx)(gn,{children:"Comment"}),(0,T.jsx)(fn,{children:o})]}),(0,T.jsxs)(mn,{style:{fontWeight:"700"},children:[(0,T.jsx)(gn,{children:"Sum"}),(0,T.jsx)(jn,{type:r.toLowerCase(),children:c.toFixed(2)})]}),(0,T.jsxs)(mn,{children:[(0,T.jsx)(xn,{onClick:function(){return x(e)},children:"Delete"}),(0,T.jsxs)(hn,{onClick:function(){return h(e)},children:[(0,T.jsx)(X.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}}),"Edit"]})]})]},e)}))})})},bn=t(7614),yn=t(5243),wn=z.ZP.div(D||(D=(0,M.Z)(["\n  padding: 0;\n  width: 100%;\n  /* min-height: 100vh; */\n  /* display: flex;\n  flex-direction: column; */\n  @media screen and (min-width: 480px) {\n    width: 440px;\n  }\n  @media screen and (min-width: 768px) {\n    width: 704px;\n  }\n  @media screen and (min-width: 1280px) {\n    width: 784px;\n    padding: 46px 0 0 69px;\n  }\n"]))),kn=function(n){var e=(0,F.useSelector)(W.$n),t=(0,F.useSelector)(W.xU),r=(0,F.useDispatch)(),i=e.map((function(n){return(0,_.Z)((0,_.Z)({},n),{},{transactionDate:Date.parse(n.transactionDate)})})),o=(0,Y.Z)(i).sort((function(n,e){return e.transactionDate-n.transactionDate}));return(0,$.useEffect)((function(){r((0,bn.mI)())}),[r]),(0,T.jsx)(wn,{children:0===e.length?(0,T.jsx)("p",{children:" You don't have transactions yet. "}):(0,T.jsx)("div",{children:t?(0,T.jsx)(yn._P,{}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(vn,{data:o,info:n.info})})})})},Cn=t(1576),Pn=t(534),Sn=t(1799),In=t.n(Sn),Dn=(t(1778),t(2426)),En=t.n(Dn),Nn=t(71),Fn=t(9983),On=t(4994),Mn=function(){var n=(0,F.useDispatch)(),e=(0,F.useSelector)(U.us),t=new Date(Date.now()),r=(0,$.useState)(t),i=(0,N.Z)(r,2),o=i[0],c=i[1],a=(0,$.useState)(""),s=(0,N.Z)(a,2)[1],d=(0,$.useState)(""),l=(0,N.Z)(d,2),u=l[0],h=l[1],x=(0,$.useState)(""),p=(0,N.Z)(x,2),m=p[0],g=p[1],f=(0,$.useState)(""),j=(0,N.Z)(f,2),Z=j[0],v=j[1],b=(0,$.useState)(!1),y=(0,N.Z)(b,2),w=y[0],k=y[1];(0,$.useEffect)((function(){n((0,On.p)())}),[n]);var C=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?h(t):"amount"===r?v(t):"comment"===r&&g(t)},P=function(){c(""),s(""),h(""),g(""),v("")},S=function(e){"Escape"!==e.code&&e.currentTarget!==e.target&&"svg"!==e.target.nodeName||n((0,O.ZB)())};window.addEventListener("keydown",S);var I=e.filter((function(n){return"Income"!==n.name}));return(0,T.jsx)(Pn.aV,{onClick:S,children:(0,T.jsxs)(Pn.u_,{children:[(0,T.jsx)(Pn.Se,{type:"button",onClick:S,children:(0,T.jsx)(Fn.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Nn.IOM,{})," "]})})}),(0,T.jsxs)(Pn.Yr,{onSubmit:function(t){t.preventDefault();var r=e.find((function(n){return n.name===u})),i={transactionDate:o,type:w?"EXPENSE":"INCOME",categoryId:w?r&&r.id||e[0].id:e[10].id,comment:m,amount:w?-Number(Z):Number(Z)};console.log(i),n((0,bn.dT)(i)),P()},children:[(0,T.jsx)(Pn.r6,{children:" Add transaction"}),(0,T.jsx)(Pn.II,{onChange:function(n){k(n.target.checked)},checked:w,type:"checkbox",name:"topic",id:"topic-1"}),(0,T.jsxs)(Pn.nP,{children:[(0,T.jsx)(Pn.NV,{checked:w,children:"Income"}),(0,T.jsx)(Pn.ke,{htmlFor:"topic-1",checked:w}),(0,T.jsx)(Pn.RW,{checked:w,children:"Expense"})]}),w&&(0,T.jsx)(Pn.n5,{name:"categoryId",onChange:C,value:u,children:e&&I.map((function(n){var e=n.id,t=n.name;return(0,T.jsx)("option",{id:e,children:t},e)}))}),(0,T.jsxs)(Pn.nP,{children:[(0,T.jsx)(Pn.AZ,{value:Z,onChange:C,type:"text",name:"amount",placeholder:"0.00"}),(0,T.jsx)(In(),{timeFormat:!1,name:o,value:o,onChange:function(n){c(En()(n).toISOString())},renderInput:function(n){return(0,T.jsx)(Pn.AZ,(0,_.Z)({},n))}})]}),(0,T.jsx)(Pn.OY,{value:m,onChange:C,name:"comment",placeholder:"Comment"}),(0,T.jsxs)(Pn.Vh,{children:[(0,T.jsx)(Pn.$G,{type:"submit",children:"Add"}),(0,T.jsx)(Pn.gX,{type:"button",onClick:S,children:"Cancel"})]})]})]})})},zn=function(n){var e=n.trans,t=n.close,r=(0,F.useSelector)(U.us),i=(0,$.useState)(e.categoryId),o=(0,N.Z)(i,2),c=o[0],a=o[1],s=(0,$.useState)(Math.abs(e.amount)),d=(0,N.Z)(s,2),l=d[0],u=d[1],h=(0,$.useState)(e.transactionDate),x=(0,N.Z)(h,2),p=x[0],m=x[1],g=(0,$.useState)(e.comment),f=(0,N.Z)(g,2),j=f[0],Z=f[1],v=(0,$.useState)(e.type),b=(0,N.Z)(v,2)[1],y=(0,$.useState)("INCOME"!==e.type),w=(0,N.Z)(y,2),k=w[0],C=w[1];console.log("categoryId init",c);var P=(0,F.useDispatch)(),S=(0,F.useSelector)(U.us),I=function(n){var e=n.target,t=e.value,i=e.name;"categoryId"===i?function(n){var e=r.find((function(e){return e.name===n}));a(e.id)}(t):"amount"===i?u(t):"comment"===i&&Z(t)},D=function(n){"Escape"!==n.code&&n.currentTarget!==n.target&&"svg"!==n.target.nodeName||(P((0,O.o_)()),t(null))};window.addEventListener("keydown",D);var E=S.filter((function(n){return"Income"!==n.name})),M=(0,Y.Z)(E).sort((function(n,e){return n.id===c?-1:e.id===c?1:0}));return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Pn.aV,{onClick:D,children:(0,T.jsxs)(Pn.u_,{children:[(0,T.jsx)(Pn.Se,{type:"button",onClick:D,children:(0,T.jsx)(Fn.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Nn.IOM,{})," "]})})}),(0,T.jsxs)(Pn.Yr,{onSubmit:function(n){n.preventDefault();var t={transactionDate:p,type:k?"EXPENSE":"INCOME",categoryId:k?c:S[10].id,comment:j,amount:k?-Number(Math.abs(l)):Number(l)};console.log(t),P((0,bn.bT)({transactionId:e.id,dataInfo:t})),m(""),b(""),a(""),Z(""),u("")},children:[(0,T.jsx)(Pn.r6,{children:" Update transaction"}),(0,T.jsx)(Pn.II,{onChange:function(n){C(n.target.checked)},checked:k,type:"checkbox",name:"topic",id:"topic-1"}),(0,T.jsxs)(Pn.nP,{children:[(0,T.jsx)(Pn.NV,{checked:k,children:"Income"}),(0,T.jsx)(Pn.ke,{htmlFor:"topic-1",checked:k}),(0,T.jsx)(Pn.RW,{checked:k,children:"Expense"})]}),k&&(0,T.jsx)(Pn.n5,{name:"categoryId",onChange:I,value:c,children:S&&M.map((function(n){var e=n.id,t=n.name;return(0,T.jsx)("option",{id:e,children:t},e)}))}),(0,T.jsxs)(Pn.nP,{children:[(0,T.jsx)(Pn.AZ,{value:l,onChange:I,type:"text",name:"amount",placeholder:"0.00"}),(0,T.jsx)(Pn.AZ,{value:p,onChange:I,type:"text",name:"amount",disabled:!0})]}),(0,T.jsx)(Pn.OY,{value:j,onChange:I,name:"comment",placeholder:"Comment"}),(0,T.jsxs)(Pn.Vh,{children:[(0,T.jsx)(Pn.$G,{type:"submit",children:"upDate"}),(0,T.jsx)(Pn.gX,{type:"button",onClick:D,children:"Cancel"})]})]})]})})})},Ln=z.ZP.div(E||(E=(0,M.Z)(["\nposition: relative;\n"]))),An=t(7921),Tn=function(n){var e=n.transId;console.log(e);var t=(0,F.useDispatch)(),r=function(n){"Escape"!==n.code&&n.currentTarget!==n.target||t((0,O.u0)())};return window.addEventListener("keydown",r),(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Pn.aV,{onClick:r,children:(0,T.jsxs)(An.F0,{children:[(0,T.jsx)(Pn.Se,{type:"button",onClick:function(){return t((0,O.u0)())},children:(0,T.jsx)(Fn.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Nn.IOM,{})," "]})})}),(0,T.jsx)(An.lo,{children:"Confirmation"}),(0,T.jsx)(An.e_,{children:"Are you sure you want this?"}),(0,T.jsxs)(An.PR,{children:[(0,T.jsx)(An.E1,{type:"button",onClick:function(){return t((0,O.u0)())},children:"Cancel"}),(0,T.jsx)(An.lg,{type:"button",onClick:function(){return t((0,bn.Ks)(e.id))},children:"Yes, I'm sure!"})]})]})})})},Vn=function(){var n=(0,F.useSelector)(Cn.RH),e=(0,F.useSelector)(Cn.Om),t=(0,F.useSelector)(Cn.q$);console.log(n),console.log(e),console.log(t);var r=(0,F.useDispatch)(),i=(0,$.useState)(null),o=(0,N.Z)(i,2),c=o[0],a=o[1];return(0,$.useEffect)((function(){r((0,On.p)())}),[r]),(0,T.jsxs)(Ln,{children:[(0,T.jsx)(kn,{info:a}),(0,T.jsx)(V,{}),t&&c&&(0,T.jsx)(Tn,{transId:c}),e&&c&&(0,T.jsx)(zn,{trans:c,close:a}),n&&(0,T.jsx)(Mn,{})]})}},2816:function(n,e,t){t.d(e,{us:function(){return r},xU:function(){return i}});var r=function(n){return n.categories.categories},i=function(n){return n.categories.isLoading}}}]);
//# sourceMappingURL=691.4bd39a04.chunk.js.map