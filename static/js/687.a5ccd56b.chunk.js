"use strict";(self.webpackChunke_wallet=self.webpackChunke_wallet||[]).push([[687],{1312:function(n,e,t){t.r(e),t.d(e,{default:function(){return Yn}});var r,i,o,a,c,s,d,l,u,h,x,p,g,f,m,j,Z,v,b,y,w,k,C,P,S,I,D,E,N=t(9439),F=t(8687),O=t(9874),M=t(168),z=t(7691),L=z.ZP.button(r||(r=(0,M.Z)(["\n  display: block;\n  position: absolute;\n  top: 87%;\n  left: 91%;\n  background-color: transparent;\n  border: none;\n  border-radius: 50%;\n  cursor: pointer;\n"]))),A=t(3479),T=t(3329),V=function(){var n=(0,F.useDispatch)();return(0,T.jsx)(L,{onClick:function(){return n((0,O.PD)())},children:(0,T.jsx)(A.b9W,{style:{display:"block",width:"50px",height:"50px",backgroundColor:"#24cca7",borderRadius:"50%"},color:"white"})})},Y=t(3433),_=t(1413),X=t(6053),$=t(5716),R=t(2791),W=function(n){return n.transactions.finance.data},G=function(n){return n.transactions.isLoading},q=function(n){return n.categories.categories},B=z.ZP.div(i||(i=(0,M.Z)(["\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n  height: 520px;\n  overflow: auto;\n"]))),H=z.ZP.table(o||(o=(0,M.Z)(["\n"]))),K=z.ZP.tr(a||(a=(0,M.Z)(["\n  background: var(--form-background-color);\n  font-weight: 700;\n  font-size: 18px;\n  line-height: 1.5;\n"]))),Q=z.ZP.th(c||(c=(0,M.Z)(["\n  width: 15%;\n  text-align: left;\n  padding-left: 20px;\n  padding-top: 15px;\n  padding-bottom: 16px;\n  border-top-left-radius: 30px;\n  border-bottom-left-radius: 30px;\n"]))),U=z.ZP.th(s||(s=(0,M.Z)(["\n  width: 10%;\n  text-align: center;\n"]))),J=z.ZP.th(d||(d=(0,M.Z)(["\n  width: 15%;\n  text-align: left;\n"]))),nn=z.ZP.th(l||(l=(0,M.Z)(["\n  width: 30%;\n  text-align: left;\n"]))),en=z.ZP.th(u||(u=(0,M.Z)(["\n  width: 10%;\n  text-align: right;\n"]))),tn=z.ZP.th(h||(h=(0,M.Z)(["\n  width: 5%;\n  text-align: center;\n"]))),rn=z.ZP.th(x||(x=(0,M.Z)(["\n  width: 5%;\n  text-align: right;\n  padding-right: 30px;\n  border-top-right-radius: 30px;\n  border-bottom-right-radius: 30px;\n"]))),on=z.ZP.tr(p||(p=(0,M.Z)(["\n  font-weight: 400;\n  font-size: 16px;\n  line-height: 1.5;\n  border-bottom: 1px solid #dcdcdf;\n  :not(:last-child) {\n    box-shadow: 0px 1px 0px rgba(255, 255, 255, 0.6);\n  }\n  :last-child {\n    border-bottom: 0;\n  }\n"]))),an=z.ZP.td(g||(g=(0,M.Z)(["\n  padding-left: 20px;\n  padding-top: 16px;\n  padding-bottom: 14px;\n"]))),cn=z.ZP.td(f||(f=(0,M.Z)(["\n  text-align: center;\n"]))),sn=z.ZP.td(m||(m=(0,M.Z)(["\n  text-align: left;\n"]))),dn=z.ZP.td(j||(j=(0,M.Z)(["\n  text-align: left;\n"]))),ln=z.ZP.td(Z||(Z=(0,M.Z)(["\n  font-weight: 700;\n  line-height: 1.5;\n  text-align: right;\n  color: ",";\n"])),(function(n){return"INCOME"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),un=z.ZP.td(v||(v=(0,M.Z)(["\n  text-align: right;\n"]))),hn=z.ZP.td(b||(b=(0,M.Z)(["\n  text-align: left;\n"]))),xn=z.ZP.button(y||(y=(0,M.Z)(["\n  font-size: 16px;\n  cursor: pointer;\n  background-color: transparent;\n  padding-right: 0;\n  border: none;\n  display: flex;\n  align-items: center;\n  margin-right: 5px;\n  padding: 0 0 0 12px;\n"]))),pn=z.ZP.button(w||(w=(0,M.Z)(["\n  min-width: 67px;\n  min-height: 26px;\n  border-radius: 18px;\n  margin-right: 12px;\n  background-color: var(--text-green-color);\n  color: var(--text-white-color);\n  border: none;\n  cursor: pointer;\n"]))),gn=z.ZP.ul(k||(k=(0,M.Z)(["\nfont-size: 16px;\n  font-family: var(--main-font);\n  font-style: normal;\n  color: var(--title-main-color);\n\n  width: 280px;\n  margin: 0 auto 8px;\n  background: var(--form-background-color);\n  border-radius: 10px;\n  border-left: 5px solid\n    ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),fn=z.ZP.li(C||(C=(0,M.Z)(["\n  padding: 12px 20px;\n  height: 47px;\n  display: flex;\n  align-items: center;  \n  &:not(:last-child) {\n    border-bottom: 1px solid #dcdcdf;\n  }\n  justify-content: space-between;\n  line-height: calc(27 / 18);\n"]))),mn=z.ZP.span(P||(P=(0,M.Z)(["\n  font-weight: 700;\n  font-size: 18px;\n"]))),jn=z.ZP.span(S||(S=(0,M.Z)(["\n  width: 80px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: pre-line;\n"]))),Zn=z.ZP.span(I||(I=(0,M.Z)(["\n  color: ",";\n"])),(function(n){return"income"===n.type?"var(--text-green-color)":"var(--text-pink-color)"})),vn=function(n){var e=new Date(n),t=e.getDate().toString().padStart(2,"0"),r=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getFullYear().toString().slice(2);return"".concat(t,".").concat(r,".").concat(i)},bn=function(n){var e=n.data,t=n.info,r=(0,$.Z)("(max-width: 767px)"),i=e.map((function(n){return(0,_.Z)((0,_.Z)({},n),{},{transactionDate:new Date(n.transactionDate).toISOString().substr(0,10)})})),o=(0,F.useSelector)(q),a=(0,F.useSelector)(W),c=(0,R.useState)(""),s=(0,N.Z)(c,2),d=s[0],l=s[1],u=(0,F.useDispatch)(),h=function(n){l(a.find((function(e){return e.id===n}))),u((0,O.mQ)())},x=function(n){l(a.find((function(e){return e.id===n}))),u((0,O.eF)())},p=function(n){var e=o.find((function(e){return e.id===n}));if(e)return e.name};return(0,R.useEffect)((function(){d&&t(d)}),[u,t,d]),(0,T.jsx)(T.Fragment,{children:r?(0,T.jsx)(T.Fragment,{children:i.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,i=n.categoryId,o=n.comment,a=n.amount;return(0,T.jsxs)(gn,{type:r.toLowerCase(),children:[(0,T.jsxs)(fn,{children:[(0,T.jsx)(mn,{children:"Date"}),vn(t)]}),(0,T.jsxs)(fn,{children:[(0,T.jsx)(mn,{children:"Type"}),"income"===r.toLowerCase()?"+":"-"]}),(0,T.jsxs)(fn,{children:[(0,T.jsx)(mn,{children:"Category"}),p(i)]}),(0,T.jsxs)(fn,{children:[(0,T.jsx)(mn,{children:"Comment"}),(0,T.jsx)(jn,{children:o})]}),(0,T.jsxs)(fn,{style:{fontWeight:"700"},children:[(0,T.jsx)(mn,{children:"Sum"}),(0,T.jsx)(Zn,{type:r.toLowerCase(),children:a.toFixed(2)})]}),(0,T.jsxs)(fn,{children:[(0,T.jsx)(pn,{onClick:function(){return x(e)},children:"Delete"}),(0,T.jsxs)(xn,{onClick:function(){return h(e)},children:[(0,T.jsx)(X.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}}),"Edit"]})]})]},e)}))}):(0,T.jsx)(B,{children:(0,T.jsxs)(H,{children:[(0,T.jsx)("thead",{children:(0,T.jsxs)(K,{children:[(0,T.jsx)(Q,{children:"Date"}),(0,T.jsx)(U,{children:"Type"}),(0,T.jsx)(J,{children:"Cotegory"}),(0,T.jsx)(nn,{children:"Comment"}),(0,T.jsx)(en,{children:"Currency"}),(0,T.jsx)(tn,{}),(0,T.jsx)(rn,{})]})}),(0,T.jsx)("tbody",{children:i.map((function(n){var e=n.id,t=n.transactionDate,r=n.type,i=n.categoryId,o=n.comment,a=n.amount;return(0,T.jsxs)(on,{children:[(0,T.jsx)(an,{children:vn(t)}),(0,T.jsx)(cn,{children:"income"===r.toLowerCase()?"+":"-"}),(0,T.jsx)(sn,{children:p(i)}),(0,T.jsx)(dn,{children:o}),(0,T.jsx)(ln,{type:r,children:a.toFixed(2)}),(0,T.jsx)(un,{children:(0,T.jsx)(xn,{onClick:function(){return h(e)},children:(0,T.jsx)(X.xnX,{style:{display:"flex",alignItems:"center",width:"30px",height:"30px"}})})}),(0,T.jsx)(hn,{children:(0,T.jsx)(pn,{onClick:function(){return x(e)},children:"Delete"})})]},e)}))})]})})})},yn=t(7614),wn=t(5243),kn=z.ZP.div(D||(D=(0,M.Z)(["\n  padding: 46px 0 0 69px;\n  width: 784px;\n"]))),Cn=function(n){var e=(0,F.useSelector)(W),t=(0,F.useSelector)(G),r=(0,F.useDispatch)(),i=e.map((function(n){return(0,_.Z)((0,_.Z)({},n),{},{transactionDate:Date.parse(n.transactionDate)})})),o=(0,Y.Z)(i).sort((function(n,e){return e.transactionDate-n.transactionDate}));return(0,R.useEffect)((function(){r((0,yn.mI)())}),[r]),(0,T.jsx)(kn,{children:0===e.length?(0,T.jsx)("p",{children:" You don't have transactions yet. "}):(0,T.jsx)("div",{children:t?(0,T.jsx)(wn._P,{}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(bn,{data:o,info:n.info})})})})},Pn=t(1576),Sn=t(534),In=t(1799),Dn=t.n(In),En=(t(1778),t(2426)),Nn=t.n(En),Fn=t(71),On=t(9983),Mn=t(4994),zn=function(){var n=(0,F.useDispatch)(),e=(0,F.useSelector)(q),t=new Date(Date.now()),r=(0,R.useState)(t),i=(0,N.Z)(r,2),o=i[0],a=i[1],c=(0,R.useState)(""),s=(0,N.Z)(c,2)[1],d=(0,R.useState)(""),l=(0,N.Z)(d,2),u=l[0],h=l[1],x=(0,R.useState)(""),p=(0,N.Z)(x,2),g=p[0],f=p[1],m=(0,R.useState)(""),j=(0,N.Z)(m,2),Z=j[0],v=j[1],b=(0,R.useState)(!1),y=(0,N.Z)(b,2),w=y[0],k=y[1];(0,R.useEffect)((function(){n((0,Mn.p)())}),[n]);var C=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?h(t):"amount"===r?v(t):"comment"===r&&f(t)},P=function(){a(""),s(""),h(""),f(""),v("")},S=function(e){"Escape"!==e.code&&e.currentTarget!==e.target&&"svg"!==e.target.nodeName||n((0,O.ZB)())};window.addEventListener("keydown",S);var I=e.filter((function(n){return"Income"!==n.name}));return(0,T.jsx)(Sn.aV,{onClick:S,children:(0,T.jsxs)(Sn.u_,{children:[(0,T.jsx)(Sn.Se,{type:"button",onClick:S,children:(0,T.jsx)(On.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Fn.IOM,{})," "]})})}),(0,T.jsxs)(Sn.Yr,{onSubmit:function(t){t.preventDefault();var r=new Date(o.toString().replace(/(\d+).(\d+).(\d+)/,"$3/$2/$1")),i=e.find((function(n){return n.name===u})),a={transactionDate:r,type:w?"EXPENSE":"INCOME",categoryId:w?i&&i.id||e[0].id:e[10].id,comment:g,amount:w?-Number(Z):Number(Z)};console.log(a),n((0,yn.dT)(a)),P()},children:[(0,T.jsx)(Sn.r6,{children:" Add transaction"}),(0,T.jsx)(Sn.II,{onChange:function(n){k(n.target.checked)},checked:w,type:"checkbox",name:"topic",id:"topic-1"}),(0,T.jsxs)(Sn.nP,{children:[(0,T.jsx)(Sn.NV,{checked:w,children:"Income"}),(0,T.jsx)(Sn.ke,{htmlFor:"topic-1",checked:w}),(0,T.jsx)(Sn.RW,{checked:w,children:"Expense"})]}),w&&(0,T.jsx)(Sn.n5,{name:"categoryId",onChange:C,value:u,children:e&&I.map((function(n){var e=n.id,t=n.name;return(0,T.jsx)("option",{id:e,children:t},e)}))}),(0,T.jsxs)(Sn.nP,{children:[(0,T.jsx)(Sn.AZ,{value:Z,onChange:C,type:"text",name:"amount",placeholder:"0.00"}),(0,T.jsx)(Dn(),{timeFormat:!1,name:o,value:o,onChange:function(n){a(Nn()(n).toISOString())},renderInput:function(n){return(0,T.jsx)(Sn.AZ,(0,_.Z)({},n))}})]}),(0,T.jsx)(Sn.OY,{value:g,onChange:C,name:"comment",placeholder:"Comment"}),(0,T.jsxs)(Sn.Vh,{children:[(0,T.jsx)(Sn.$G,{type:"submit",children:"Add"}),(0,T.jsx)(Sn.gX,{type:"button",onClick:S,children:"Cancel"})]})]})]})})},Ln=function(n){var e=n.trans,t=n.close,r=(0,R.useState)(e.categoryId),i=(0,N.Z)(r,2),o=i[0],a=i[1],c=(0,R.useState)(Math.abs(e.amount)),s=(0,N.Z)(c,2),d=s[0],l=s[1],u=(0,R.useState)(e.transactionDate),h=(0,N.Z)(u,2),x=h[0],p=h[1],g=(0,R.useState)(e.comment),f=(0,N.Z)(g,2),m=f[0],j=f[1],Z=(0,R.useState)(e.type),v=(0,N.Z)(Z,2)[1],b=(0,R.useState)("INCOME"!==e.type),y=(0,N.Z)(b,2),w=y[0],k=y[1],C=(0,F.useDispatch)(),P=(0,F.useSelector)(q),S=function(n){var e=n.target,t=e.value,r=e.name;"categoryId"===r?a(t):"amount"===r?l(t):"comment"===r&&j(t)},I=function(n){"Escape"!==n.code&&n.currentTarget!==n.target&&"svg"!==n.target.nodeName||(C((0,O.o_)()),t(""))};window.addEventListener("keydown",I);var D=P.filter((function(n){return"Income"!==n.name})),E=(0,Y.Z)(D).sort((function(n,e){return n.id===o?-1:e.id===o?1:0}));return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Sn.aV,{onClick:I,children:(0,T.jsxs)(Sn.u_,{children:[(0,T.jsx)(Sn.Se,{type:"button",onClick:I,children:(0,T.jsx)(On.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Fn.IOM,{})," "]})})}),(0,T.jsxs)(Sn.Yr,{onSubmit:function(n){var t=P.find((function(n){return n.name===o}));n.preventDefault();var r={transactionDate:x,type:w?"EXPENSE":"INCOME",categoryId:w?t&&t.id||P[0].id:P[10].id,comment:m,amount:w?-Number(Math.abs(d)):Number(d)};C((0,yn.bT)({transactionId:e.id,dataInfo:r})),p(""),v(""),a(""),j(""),l("")},children:[(0,T.jsx)(Sn.r6,{children:" Update transaction"}),(0,T.jsx)(Sn.II,{onChange:function(n){k(n.target.checked)},checked:w,type:"checkbox",name:"topic",id:"topic-1"}),(0,T.jsxs)(Sn.nP,{children:[(0,T.jsx)(Sn.NV,{checked:w,children:"Income"}),(0,T.jsx)(Sn.ke,{htmlFor:"topic-1",checked:w}),(0,T.jsx)(Sn.RW,{checked:w,children:"Expense"})]}),w&&(0,T.jsx)(Sn.n5,{name:"categoryId",onChange:S,value:o,children:P&&E.map((function(n){var e=n.id,t=n.name;return(0,T.jsx)("option",{id:e,children:t},e)}))}),(0,T.jsxs)(Sn.nP,{children:[(0,T.jsx)(Sn.AZ,{value:d,onChange:S,type:"text",name:"amount",placeholder:"0.00"}),(0,T.jsx)(Sn.AZ,{value:x,onChange:S,type:"text",name:"amount",disabled:!0})]}),(0,T.jsx)(Sn.OY,{value:m,onChange:S,name:"comment",placeholder:"Comment"}),(0,T.jsxs)(Sn.Vh,{children:[(0,T.jsx)(Sn.$G,{type:"submit",children:"upDate"}),(0,T.jsx)(Sn.gX,{type:"button",onClick:I,children:"Cancel"})]})]})]})})})},An=z.ZP.div(E||(E=(0,M.Z)(["\nposition: relative;\n"]))),Tn=t(7921),Vn=function(n){var e=n.transId;console.log(e);var t=(0,F.useDispatch)(),r=function(n){"Escape"!==n.code&&n.currentTarget!==n.target||t((0,O.u0)())};return window.addEventListener("keydown",r),(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(Sn.aV,{onClick:r,children:(0,T.jsxs)(Tn.F0,{children:[(0,T.jsx)(Sn.Se,{type:"button",onClick:function(){return t((0,O.u0)())},children:(0,T.jsx)(On.Pd.Provider,{value:{size:"3em"},children:(0,T.jsxs)("h3",{children:[" ",(0,T.jsx)(Fn.IOM,{})," "]})})}),(0,T.jsx)(Tn.lo,{children:"Confirmation"}),(0,T.jsx)(Tn.e_,{children:"Are you sure you want this?"}),(0,T.jsxs)(Tn.PR,{children:[(0,T.jsx)(Tn.E1,{type:"button",onClick:function(){return t((0,O.u0)())},children:"Cancel"}),(0,T.jsx)(Tn.lg,{type:"button",onClick:function(){return t((0,yn.Ks)(e.id))},children:"Yes, I'm sure!"})]})]})})})},Yn=function(){var n=(0,F.useSelector)(Pn.RH),e=(0,F.useSelector)(Pn.Om),t=(0,F.useSelector)(Pn.q$);console.log(n),console.log(e),console.log(t);var r=(0,F.useDispatch)(),i=(0,R.useState)(null),o=(0,N.Z)(i,2),a=o[0],c=o[1];return(0,R.useEffect)((function(){r((0,Mn.p)())}),[r]),(0,T.jsxs)(An,{children:[(0,T.jsx)(Cn,{info:c}),(0,T.jsx)(V,{}),t&&a&&(0,T.jsx)(Vn,{transId:a}),e&&a&&(0,T.jsx)(Ln,{trans:a,close:c}),n&&(0,T.jsx)(zn,{})]})}}}]);
//# sourceMappingURL=687.a5ccd56b.chunk.js.map